---
layout:     post
title:      23 链表中环的入口结点
subtitle: 继续来看双指针的表演~
date:       2019-04-18
author:     orange_heart
header-img: img/2019-23.jpg
catalog: true
tags:
    - 记忆卡片
---

### 链表中环的入口结点


给一个链表，若其中包含环，请找出该链表的环的入口结点，否则，输出null。

```objc
/*
struct ListNode {
    int val;
    struct ListNode *next;
    ListNode(int x) :
        val(x), next(NULL) {
    }
};
*/
class Solution {
public:
    ListNode* MeetingNode(ListNode* pHead)
{
    if(pHead == nullptr)
        return nullptr;

    ListNode* pSlow = pHead->next;
    if(pSlow == nullptr)
        return nullptr;

    ListNode* pFast = pSlow->next;
    while(pFast != nullptr && pSlow != nullptr)
    {
        if(pFast == pSlow)
            return pFast;

        pSlow = pSlow->next;

        pFast = pFast->next;
        if(pFast != nullptr)
            pFast = pFast->next;
    }

    return nullptr;
}

ListNode* EntryNodeOfLoop(ListNode* pHead)
{
    ListNode* meetingNode = MeetingNode(pHead);
    if(meetingNode == nullptr)
        return nullptr;

    // 得到环中结点的数目
    int nodesInLoop = 1;
    ListNode* pNode1 = meetingNode;
    while(pNode1->next != meetingNode)
    {
        pNode1 = pNode1->next;
        ++nodesInLoop;
    }

    // 先移动pNode1，次数为环中结点的数目
    pNode1 = pHead;
    for(int i = 0; i < nodesInLoop; ++i)
        pNode1 = pNode1->next;

    // 再移动pNode1和pNode2
    ListNode* pNode2 = pHead;
    while(pNode1 != pNode2)
    {
        pNode1 = pNode1->next;
        pNode2 = pNode2->next;
    }

    return pNode1;
}

};
```
### 参考

- [参考1](https://github.com/zhedahht/CodingInterviewChinese2)
- [参考2](https://github.com/gatieme/CodingInterviews)
- [play it](https://www.nowcoder.com/practice/529d3ae5a407492994ad2a246518148a?tpId=13&tqId=11167&rp=1&ru=%2Fta%2Fcoding-interviews&qru=%2Fta%2Fcoding-interviews%2Fquestion-ranking)



> Written with [StackEdit](https://stackedit.io/).

<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTg0MjA0OTc1OCw4OTUzMTEyNzVdfQ==
-->